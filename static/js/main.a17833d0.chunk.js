(this["webpackJsonpseti-laba"]=this["webpackJsonpseti-laba"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return v}));var a=n(127),r=function(e){return e.usersPage.users},i=function(e){return e.usersPage.leftLimit},c=function(e){return e.usersPage.rightLimit},u=function(e){return e.usersPage.pageSize},s=function(e){return e.usersPage.totalCount},o=function(e){return e.usersPage.currentPage},l=function(e){return e.usersPage.isLoading},d=function(e){return e.usersPage.isAdding},m=function(e){return e.profile},f=function(e){return e.profile.isLoading},p=function(e){return e.profile.profileData},g=function(e){return e.profile.status},b=function(e){return e.auth.id},h=function(e){return e.auth.login},E=function(e){return e.chats.dialogsData},O=function(e){return e.chats.chatName},v=function(e){return e.chats.messagesData};Object(a.a)(r,(function(e){return e.filter((function(e){return e.photos.small}))}))},125:function(e,t,n){e.exports=n.p+"static/media/icon.bb7d3f0c.png"},126:function(e,t,n){e.exports=n.p+"static/media/Loading.4850ba13.svg"},14:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return b}));var a=n(17),r="https://social-network.samuraijs.com/api/1.0/",i="865b0a4c-c600-44ac-bef7-7ad0b749f88a",c=function(e,t){return a.get(r+"users?page=".concat(e,"&count=").concat(t),{withCredentials:!0})},u=function(e){return a.delete(r+"follow/".concat(e),{withCredentials:!0,headers:{"API-KEY":i}})},s=function(e){return a.post(r+"follow/".concat(e),{},{withCredentials:!0,headers:{"API-KEY":i}})},o=function(e){return a.get(r+"profile/".concat(e),{withCredentials:!0})},l=function(e){return a.get(r+"profile/status/".concat(e),{withCredentials:!0})},d=function(e){return a.put(r+"profile/status/",{status:e},{withCredentials:!0,headers:{"API-KEY":i}})},m=function(){return a.get(r+"auth/me",{withCredentials:!0})},f=function(e,t,n){return a.post(r+"auth/login",{email:e,password:t,rememberMe:n},{withCredentials:!0,headers:{"API-KEY":i}})},p=function(){return a.delete(r+"auth/login",{withCredentials:!0})},g=function(e){var t=new FormData;return t.append("image",e),a.put(r+"profile/photo",t,{withCredentials:!0,headers:{"API-KEY":i,"Content-type":"multipart/form-data"}})},b=function(e){return a.put(r+"profile",e,{withCredentials:!0,headers:{"API-KEY":i}})}},155:function(e,t,n){e.exports=n(297)},160:function(e,t,n){},161:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},165:function(e,t,n){},166:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return D})),n.d(t,"i",(function(){return S}));var a=n(9),r=n.n(a),i=n(18),c=n(55),u=n(4),s=n(35),o=n.n(s),l=n(14),d="profile/ADD-LIKE",m="profile/ADD-POST",f={profileData:null,commentsData:[{id:1,avatar:o.a,text:"Hello",name:"Vasya",likes:23},{id:2,avatar:o.a,text:"Nice job!!!",name:"Petya",likes:3}],isLoading:!1,status:""},p=function(e){return{type:m,postText:e}},g=function(e){return{type:d,postId:parseInt(e)}},b=function(e){return{type:"profile/TOGGLE-LOADING",isLoading:e}},h=function(e){return{type:"profile/SET-PROFILE",profileData:e}},E=function(e){return{type:"profile/SET-STATUS",status:e}},O=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0)),t.next=3,Object(l.d)(e);case 3:a=t.sent,n(b(!1)),n(h(a.data));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.e)(e);case 2:a=t.sent,n(E(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.k)(e);case 2:0===t.sent.data.resultCode&&n(E(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.i)(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"profile/SET-PHOTO",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.j)(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=e.commentsData[e.commentsData.length-1].id+1,a={id:n,avatar:o.a,text:t.postText,name:"Vova",likes:0},r=Object(u.a)({},e);return r.commentsData=Object(c.a)(e.commentsData),r.commentsData.push(a),r;case d:var i=Object(u.a)({},e);i.commentsData=Object(c.a)(e.commentsData);var s=i.commentsData.find((function(e){return e.id===t.postId}));return s.likes+=1,i;case"profile/TOGGLE-LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.isLoading});case"profile/SET-PROFILE":return Object(u.a)(Object(u.a)({},e),{},{profileData:t.profileData});case"profile/SET-STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case"profile/SET-PHOTO":return Object(u.a)(Object(u.a)({},e),{},{profileData:Object(u.a)(Object(u.a)({},e.profileData),{},{photos:t.photos})});default:return e}}},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(64),c=n.n(i),u=(n(160),n(27)),s=n(28),o=n(30),l=n(29),d=(n(161),n(13)),m=(n(165),n(166),n(125)),f=n.n(m),p=n(11),g=function(e){return r.a.createElement("header",{className:"common-header"},r.a.createElement("img",{src:f.a}),r.a.createElement("span",{className:"siteName"},"Hello"),r.a.createElement("span",{className:"loginBlock"},e.login?r.a.createElement("span",null,r.a.createElement("button",{className:"link",id:"logOut",onClick:e.logOutFull},"Log out ")," ",e.login):r.a.createElement(p.b,{className:"link",id:"login",to:"/logIn"},"Log in")))},b=(n(17),n(126)),h=n.n(b),E=function(e){return r.a.createElement("div",{className:"Loading"},e.isLoading?r.a.createElement("span",null,r.a.createElement("img",{src:h.a}),r.a.createElement("br",null)," API is very slow if you waiting more than 30 seconds reload"):null)},O=n(9),v=n.n(O),j=n(18),D=n(4),S=n(14),y=n(39),N={id:null,login:null,email:null,isAuth:!1},L=function(e,t,n,a){return{type:"auth/SET-USER-DATA",userData:{id:e,login:t,email:n,isAuth:a}}},k=function(){return function(){var e=Object(j.a)(v.a.mark((function e(t){var n,a,r,i,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,i=a.login,c=a.email,t(L(r,i,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":return Object(D.a)(Object(D.a)({},e),t.userData);default:return e}},C=n(12),w=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,this.props))}}]),n}(a.PureComponent),P=Object(d.b)((function(e){return{login:Object(C.h)(e)}}),{logOutFull:function(e,t,n){return function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.h)();case 2:0===e.sent.data.resultCode&&t(L(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(w),T=(n(186),function(e){return r.a.createElement("nav",{className:"common-nav"},r.a.createElement(p.b,{className:"link",to:"/users"},"Find users"),r.a.createElement(p.b,{className:"link",to:"/chats"},"Chats"),r.a.createElement(p.b,{className:"link",to:"/profile"},"Profile"),r.a.createElement(p.b,{className:"link",to:"/profileSettings"},"ProfileSettings"))}),x=(n(187),n(188),function(e){var t="/chats/"+e.id;return r.a.createElement("div",{className:"dialog",id:e.id},r.a.createElement(p.b,{to:t},e.name))}),I=(n(189),function(e){return r.a.createElement("div",{className:"message",id:e.id},e.name," : ",e.text)}),F=n(122),U=n(123),G=Object(U.a)({form:"sendMessage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(F.a,{placeholder:"Enter your message",name:"message",component:"textarea"})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))})),M=function(e){var t=e.messagesData.map((function(e){return r.a.createElement(I,{name:e.name,text:e.text,key:e.id,id:e.id})})),n=e.dialogsData.map((function(e){return r.a.createElement(x,{name:e.name,id:e.id,key:e.id})}));return r.a.createElement("div",{className:"chats"},r.a.createElement("div",{className:"dialogs"},r.a.createElement("span",{className:"dialogHead"},"Dialogs"),n),r.a.createElement("div",{className:"messages"},r.a.createElement("span",{className:"dialogName"},e.name),t,r.a.createElement("div",{className:"sendMessage"},r.a.createElement(G,{onSubmit:function(t){e.addMessage(t.message)}}))))},R=n(55),z={dialogsData:[{name:"Stas",id:1},{name:"Kostya",id:2},{name:"Vasya",id:3},{name:"Ivan",id:4}],messagesData:[{id:1,name:"Stas",text:"hi"},{id:2,name:"Vova",text:"hello"},{id:3,name:"Stas",text:"What`s up?"},{id:4,name:"Vova",text:"All is Fine"}],chatName:"Stas"},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"chats/ADD-MESSAGE":var n=e.messagesData[e.messagesData.length-1].id+1,a={id:n,name:"Vova",text:t.messageText},r=Object(D.a)({},e);return r.messagesData=Object(R.a)(e.messagesData),r.messagesData.push(a),console.log(r),r;default:return e}},_=n(42),H=n(8),V=Object(H.d)(Object(d.b)((function(e){return{dialogsData:Object(C.c)(e),name:Object(C.j)(e),messagesData:Object(C.i)(e)}}),{addMessage:function(e){return{type:"chats/ADD-MESSAGE",messageText:e}}}),_.a)(M),Y=(n(289),n(290),function(e){var t=r.a.createRef();return r.a.createElement("div",{className:"comment",id:e.id,ref:t},r.a.createElement("img",{className:"avatar",src:e.avatar}),r.a.createElement("span",{className:"username"},e.name),r.a.createElement("div",{className:"c-text"},e.text),r.a.createElement("div",{className:"likes",onClick:function(){var n=t.current.id;e.addLike(n)}},"likes ",e.likes))}),B=(n(291),n(90)),q=(n(292),r.a.memo((function(e){var t=Object(a.useState)(!1),n=Object(B.a)(t,2),i=n[0],c=n[1],u=Object(a.useState)(e.status),s=Object(B.a)(u,2),o=s[0],l=s[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",{className:"status"},i?r.a.createElement("div",null,"status: ",r.a.createElement("textarea",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatusFull(o)},value:o})):r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){e.isOwner&&c(!0)}},"status: ",o||"no status")))}))),J=n(35),X=n.n(J),Z=function(e){return e.profileData?r.a.createElement("div",{className:"profileTop",id:e.profileData.userId},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:null!=e.profileData.photos.large?e.profileData.photos.large:X.a}),e.isOwner?r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhotoFull(t.target.files[0])}}):""),r.a.createElement("div",{className:"aboutMe"},"About me: ",e.profileData.aboutMe),r.a.createElement("div",{className:"username"},"Full name: ",e.profileData.fullName),r.a.createElement(q,e)):r.a.createElement("div",{className:"profileTop"})},W=Object(U.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(F.a,{placeholder:"Enter your message",name:"postText",component:"textarea"})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))})),Q=function(e){var t=e.profile.commentsData.map((function(t){return r.a.createElement(Y,{avatar:t.avatar,text:t.text,name:t.name,likes:t.likes,id:t.id,addLike:e.addLike,key:t.id})}));return r.a.createElement("div",{className:"profile"},r.a.createElement(Z,e),r.a.createElement("div",{className:"comments"},t),r.a.createElement("div",{className:"post"},r.a.createElement(W,{onSubmit:function(t){e.addPost(t.postText)}})))},$=n(24),ee=n(10),te=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getProfileInfoFull(e),this.props.getUserStatusFull(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return console.log("profileRender"),r.a.createElement("div",null,r.a.createElement(E,{isLoading:this.props.isLoading}),r.a.createElement(Q,Object.assign({isOwner:!this.props.match.params.userId},this.props)))}}]),n}(a.PureComponent),ne=Object(H.d)(Object(d.b)((function(e){return{profile:Object(C.m)(e),isLoading:Object(C.e)(e),profileData:Object(C.l)(e),status:Object(C.o)(e),authorizedUserId:Object(C.a)(e)}}),{addPost:$.b,addLike:$.a,toggleLoading:$.h,setProfile:$.g,getProfileInfoFull:$.d,getUserStatusFull:$.e,updateStatusFull:$.j,savePhotoFull:$.f}),ee.f,_.a)(te),ae=(n(293),n(68)),re=n(85),ie=Object(ae.a)(4),ce=Object(U.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(F.a,{placeholder:"email",name:"email",component:re.a,validate:[ae.b]})),r.a.createElement("div",null,r.a.createElement(F.a,{type:"password",name:"password",placeholder:"Password",component:re.a,validate:[ae.b,ie]})),r.a.createElement("div",null,"remember me",r.a.createElement(F.a,{type:"checkbox",name:"rememberMe",component:"input"})),n?r.a.createElement("div",{className:"generalError"},n):"",r.a.createElement("div",null,r.a.createElement("button",null,"Log in")))})),ue=Object(d.b)((function(e){return{isAuth:e.auth.isAuth}}),{logInFull:function(e,t,n){return function(){var a=Object(j.a)(v.a.mark((function a(r){var i,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(S.g)(e,t,n);case 2:0===(i=a.sent).data.resultCode?r(k()):(c=i.data.messages.length>0?i.data.messages[0]:"Some error",r(Object(y.a)("login",{_error:c})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(ee.a,{to:"/profile"}):r.a.createElement("div",{className:"loginMain"},r.a.createElement("h3",null,"Log In"),r.a.createElement(ce,{onSubmit:function(t){e.logInFull(t.email,t.password,t.rememberMe)}}))})),se=(n(295),n(296),function(e){var t=r.a.createRef();return r.a.createElement("div",{className:"user",id:e.id,ref:t},r.a.createElement(p.b,{to:"/profile/"+e.id},r.a.createElement("img",{className:"avatar",alt:"avatar",src:null!=e.avatar?e.avatar:X.a})),r.a.createElement("span",{className:"username"},e.name),r.a.createElement("div",{className:"status"},e.status),r.a.createElement("div",{className:"city"},"City"),r.a.createElement("div",{className:"country"},"Country"),e.friend?r.a.createElement("button",{disabled:e.isAdding,className:"delAddUser",onClick:function(){e.delUserFull(t.current.id)}},"Delete"):r.a.createElement("button",{disabled:e.isAdding,className:"delAddUser",onClick:function(){e.addUserFull(t.current.id)}},"Add"))}),oe=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);return r.a.createElement("div",{className:"users"},e.users.map((function(t){return r.a.createElement(se,Object.assign({avatar:t.photos.small,status:t.status,name:t.name,friend:t.followed,id:t.id},e,{key:t.id}))})),r.a.createElement("div",{className:"pages"},1===e.leftLimit?"":r.a.createElement("button",{onClick:function(){e.changePages(-20)}},"<"),n.filter((function(t){return t>=e.leftLimit&&t<=e.rightLimit})).map((function(t){return r.a.createElement("span",{className:e.currentPage===t&&"selected",onClick:function(n){e.onPageChanged(t)}},t)})),e.rightLimit>t?"":r.a.createElement("button",{onClick:function(){e.rightLimit<t?e.changePages(20):e.changePage(t-e.rightLimit)}},">")))},le={users:[],pageSize:10,totalCount:0,currentPage:1,isLoading:!1,isAdding:!1,leftLimit:1,rightLimit:20},de=function(e){return{type:"users/TOGGLE-LOADING",isLoading:e}},me=function(e){return{type:"users/TOGGLE-ADDING",isAdding:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/ADD-USER":return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===parseInt(t.userId)?Object(D.a)(Object(D.a)({},e),{},{followed:!0}):e}))});case"users/DEL-USER":return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===parseInt(t.userId)?Object(D.a)(Object(D.a)({},e),{},{followed:!1}):e}))});case"users/SET-USERS":return Object(D.a)(Object(D.a)({},e),{},{users:t.users});case"users/SET-CURRENT-PAGE":return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.page});case"users/SET-TOTAL-COUNT":return Object(D.a)(Object(D.a)({},e),{},{totalCount:t.totalCount});case"users/TOGGLE-LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:t.isLoading});case"users/TOGGLE-ADDING":return Object(D.a)(Object(D.a)({},e),{},{isAdding:t.isAdding});case"users/CHANGE-PAGES":return Object(D.a)(Object(D.a)({},e),{},{leftLimit:e.leftLimit+t.count,rightLimit:e.rightLimit+t.count});default:return e}},pe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsersFull(t,e.props.pageSize)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersFull(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement("div",null,"Users",r.a.createElement(E,{isLoading:this.props.isLoading}),r.a.createElement(oe,Object.assign({},this.props,{onPageChanged:this.onPageChanged})))}}]),n}(a.PureComponent),ge=Object(H.d)(Object(d.b)((function(e){return{users:Object(C.q)(e),pageSize:Object(C.k)(e),totalCount:Object(C.p)(e),currentPage:Object(C.b)(e),isLoading:Object(C.f)(e),isAdding:Object(C.d)(e),leftLimit:Object(C.g)(e),rightLimit:Object(C.n)(e)}}),{getUsersFull:function(e,t){return function(){var n=Object(j.a)(v.a.mark((function n(a){var r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"users/SET-CURRENT-PAGE",page:e}),a(de(!0)),n.next=4,Object(S.f)(e,t);case 4:r=n.sent,a(de(!1)),a({type:"users/SET-USERS",users:r.data.items}),a({type:"users/SET-TOTAL-COUNT",totalCount:r.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addUserFull:function(e){return function(){var t=Object(j.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("hi"),n(me(!0)),t.next=4,Object(S.a)(e);case 4:0===t.sent.data.resultCode&&n({type:"users/ADD-USER",userId:e}),n(me(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},delUserFull:function(e){return function(){var t=Object(j.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me(!0)),t.next=3,Object(S.b)(e);case 3:0===t.sent.data.resultCode&&n({type:"users/DEL-USER",userId:e}),n(me(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changePages:function(e){return{type:"users/CHANGE-PAGES",count:e}}}),_.a)(pe),be={initialized:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET-INITIALIZED":return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}},Ee=r.a.lazy((function(){return n.e(3).then(n.bind(null,299))})),Oe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(p.a,null,r.a.createElement("div",{className:"app-main"},r.a.createElement(P,null),r.a.createElement(T,null),r.a.createElement("div",{className:"content"},r.a.createElement(ee.b,{path:"/chats",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(ee.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(ee.b,{path:"/profileSettings",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(E,{isLoading:!0})},r.a.createElement(Ee,null))}}),r.a.createElement(ee.b,{path:"/logIn",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(ee.b,{path:"/users",render:function(){return r.a.createElement(ge,null)}})))):r.a.createElement(E,{isLoading:!0})}}]),n}(r.a.Component),ve=Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(k()).then((function(){e({type:"app/SET-INITIALIZED"})}))}}})(Oe),je=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,300)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},De=n(129),Se=n(124),ye=Object(H.c)({profile:$.c,chats:K,usersPage:fe,auth:A,form:Se.a,app:he}),Ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,Le=Object(H.e)(ye,Ne(Object(H.a)(De.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:Le},r.a.createElement(ve,null))),document.getElementById("root")),je()},35:function(e,t,n){e.exports=n.p+"static/media/avatar.ebbbc6a3.png"},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(27),r=n(28),i=n(30),c=n(29),u=n(10),s=n(0),o=n.n(s),l=n(13),d=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(i.a)(s,t);var n=Object(c.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(u.a,{to:"/login"})}}]),s}(o.a.Component);return Object(l.b)(d)(t)}},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"required field"},r=function(e){return function(t){if(t.length<e)return"min length is "+e}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(91),r=(n(294),n(0)),i=n.n(r),c=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]),c=n.error&&n.touched;return i.a.createElement("div",{className:c?"formControl error":"formControl"},i.a.createElement("div",null,i.a.createElement("input",Object.assign({},t,r))),c?i.a.createElement("span",null,n.error):i.a.createElement("span",null))}}},[[155,1,2]]]);
//# sourceMappingURL=main.a17833d0.chunk.js.map